const _0x51a06e=_0x2e12;function _0x24b5(){const _0x27fd90=['video','imageMessage','fps=15,scale=512:512:force_original_aspect_ratio=decrease','118736nyKSOX','./media_','.mp4','Conversion\x20error:','FLASH-MD','CROPPED','-loop','sticker','length','FULL','url','45846MyteSQ','-vcodec','extendedTextMessage','stickerMessage','keys','8742501KijmSd','./temp_','includes','File\x20does\x20not\x20exist','contextInfo','tomp3','run','take','concat','libwebp','crop','image','Reply\x20to\x20an\x20image,\x20video\x20or\x20sticker.','converter','unlink','outputOptions','get\x20a\x20url\x20of\x20replied\x20image\x20or\x20video.','videoMessage','existsSync','Reply\x20to\x20a\x20video\x20message\x20to\x20convert\x20to\x20MP3.','transparent','18213550ESCJsr','Error\x20while\x20uploading\x20to\x20Catbox','toBuffer','2234355ASIAUy','329yhFIHL','default','-preset','User','error','-an','jpg','quotedMessage','readFile','Reply\x20to\x20an\x20image\x20or\x20video\x20to\x20convert\x20it\x20into\x20a\x20sticker.','Convert\x20image\x20or\x20short\x20video\x20to\x20sticker.','now','Remake\x20sticker\x20with\x20custom\x20pack\x20name.','1294646QFXuCA','8QAGoPN','stack','join','12345','message','push','pushName','audio','Converted\x20audio\x20file\x20not\x20found.','Error\x20while\x20creating\x20sticker:\x20','512:512','save','Converter','sendMessage','output','sticker_','writeFile','end','10CVksbd','Create\x20a\x20cropped\x20sticker\x20from\x20replied\x20media.','2488916KBMOfc'];_0x24b5=function(){return _0x27fd90;};return _0x24b5();}(function(_0x5657b1,_0x12313f){const _0x4f7cb3=_0x2e12,_0x466ca1=_0x5657b1();while(!![]){try{const _0x5871ec=parseInt(_0x4f7cb3(0x1e1))/0x1+parseInt(_0x4f7cb3(0x217))/0x2+parseInt(_0x4f7cb3(0x209))/0x3+-parseInt(_0x4f7cb3(0x1dd))/0x4*(parseInt(_0x4f7cb3(0x22a))/0x5)+-parseInt(_0x4f7cb3(0x1ec))/0x6*(parseInt(_0x4f7cb3(0x20a))/0x7)+-parseInt(_0x4f7cb3(0x218))/0x8*(parseInt(_0x4f7cb3(0x1f1))/0x9)+parseInt(_0x4f7cb3(0x206))/0xa;if(_0x5871ec===_0x12313f)break;else _0x466ca1['push'](_0x466ca1['shift']());}catch(_0x49a69c){_0x466ca1['push'](_0x466ca1['shift']());}}}(_0x24b5,0xb8de9));import _0x3008ca from'axios';import _0x3b8dc5 from'fs-extra';import _0x47bcf1 from'@whiskeysockets/baileys';function _0x2e12(_0x3b0bce,_0x5d4559){const _0x24b567=_0x24b5();return _0x2e12=function(_0x2e1268,_0x809ca3){_0x2e1268=_0x2e1268-0x1dd;let _0x75837=_0x24b567[_0x2e1268];return _0x75837;},_0x2e12(_0x3b0bce,_0x5d4559);}import{Sticker,StickerTypes}from'wa-sticker-formatter';import{Catbox}from'node-catbox';const {downloadContentFromMessage}=_0x47bcf1,catbox=new Catbox();async function uploadToCatbox(_0x54e920){const _0x123eb6=_0x2e12;if(!_0x3b8dc5[_0x123eb6(0x203)](_0x54e920))throw new Error(_0x123eb6(0x1f4));try{const _0x610cf=await catbox['uploadFile']({'path':_0x54e920});if(_0x610cf)return _0x610cf;else throw new Error(_0x123eb6(0x207));}catch(_0x2a4916){throw new Error(String(_0x2a4916));}}const getBuffer=async(_0x421ee2,_0x5cfc32)=>{const _0x559f73=_0x2e12,_0x1e7d92=await downloadContentFromMessage(_0x421ee2,_0x5cfc32),_0x280e04=[];for await(const _0x4d259b of _0x1e7d92)_0x280e04['push'](_0x4d259b);return Buffer[_0x559f73(0x1f9)](_0x280e04);};export const stickerCommand={'name':_0x51a06e(0x1e8),'aliases':['s'],'description':_0x51a06e(0x214),'category':'Converter','execute':async(_0x418b64,_0x24f314,_0x7f1a5e,_0x4fc1e2)=>{const _0x10a5a7=_0x51a06e,_0x5d849a=Object[_0x10a5a7(0x1f0)](_0x24f314[_0x10a5a7(0x21c)]||{})[0x0],_0x402586=_0x24f314[_0x10a5a7(0x21c)]?.[_0x10a5a7(0x1ee)]?.['contextInfo']?.[_0x10a5a7(0x211)],_0x1043a7=_0x402586?.['imageMessage'],_0xef6b0d=_0x402586?.[_0x10a5a7(0x202)],_0x2a49de=_0x10a5a7(0x227)+Date[_0x10a5a7(0x215)](),_0x37cc37=_0x2a49de+'.webp';try{if(_0x5d849a===_0x10a5a7(0x1df)||_0x1043a7){const _0x447d36=_0x24f314[_0x10a5a7(0x21c)]['imageMessage']||_0x1043a7,_0xc33bbe=await getBuffer(_0x447d36,_0x10a5a7(0x1fc)),_0x260734=new Sticker(_0xc33bbe,{'pack':_0x10a5a7(0x1e5),'author':_0x24f314[_0x10a5a7(0x21e)]||_0x10a5a7(0x20d),'type':_0x7f1a5e[_0x10a5a7(0x1f3)](_0x10a5a7(0x1fb))?StickerTypes['CROPPED']:StickerTypes[_0x10a5a7(0x1ea)],'quality':0x46});await _0x418b64[_0x10a5a7(0x225)](_0x4fc1e2,{'sticker':await _0x260734['toBuffer']()},{'quoted':_0x24f314});}else{if(_0x5d849a===_0x10a5a7(0x202)||_0xef6b0d){const _0x12f995=_0x24f314[_0x10a5a7(0x21c)][_0x10a5a7(0x202)]||_0xef6b0d,_0x1ed31d=await getBuffer(_0x12f995,_0x10a5a7(0x1de)),_0xc5aa0f=_0x2a49de+_0x10a5a7(0x1e3);await _0x3b8dc5[_0x10a5a7(0x228)](_0xc5aa0f,_0x1ed31d),await new Promise((_0x142375,_0x3c9e1b)=>{const _0x2e9247=_0x10a5a7;_0x1a40b6(_0xc5aa0f)[_0x2e9247(0x200)]([_0x2e9247(0x1ed),_0x2e9247(0x1fa),'-vf',_0x2e9247(0x1e0),_0x2e9247(0x1e7),'0',_0x2e9247(0x20c),_0x2e9247(0x20b),_0x2e9247(0x20f),'-vsync','0','-s',_0x2e9247(0x222)])[_0x2e9247(0x223)](_0x37cc37)['on'](_0x2e9247(0x229),_0x142375)['on'](_0x2e9247(0x20e),_0x3c9e1b);});const _0x170e7d=new Sticker(await _0x3b8dc5['readFile'](_0x37cc37),{'pack':_0x10a5a7(0x1e5),'author':_0x24f314[_0x10a5a7(0x21e)]||_0x10a5a7(0x20d),'type':_0x7f1a5e[_0x10a5a7(0x1f3)]('crop')?StickerTypes[_0x10a5a7(0x1e6)]:StickerTypes[_0x10a5a7(0x1ea)],'quality':0x46});await _0x418b64[_0x10a5a7(0x225)](_0x4fc1e2,{'sticker':await _0x170e7d[_0x10a5a7(0x208)]()},{'quoted':_0x24f314}),await _0x3b8dc5[_0x10a5a7(0x1ff)](_0xc5aa0f),await _0x3b8dc5[_0x10a5a7(0x1ff)](_0x37cc37);}else return await _0x418b64[_0x10a5a7(0x225)](_0x4fc1e2,{'text':_0x10a5a7(0x213)},{'quoted':_0x24f314});}}catch(_0x444275){await _0x418b64[_0x10a5a7(0x225)](_0x4fc1e2,{'text':_0x10a5a7(0x221)+_0x444275[_0x10a5a7(0x21c)]},{'quoted':_0x24f314});}}};export const urlCommand={'name':_0x51a06e(0x1eb),'description':_0x51a06e(0x201),'category':_0x51a06e(0x1fe),'execute':async(_0x3f3bb3,_0x41c1a4,_0x482e5b,_0x28766a)=>{const _0x4f1656=_0x51a06e,_0x218272=_0x41c1a4['message']?.[_0x4f1656(0x1ee)]?.[_0x4f1656(0x1f5)]?.['quotedMessage'],_0x36f69a=_0x218272?.[_0x4f1656(0x1df)]||_0x218272?.['videoMessage'];if(!_0x36f69a)return await _0x3f3bb3[_0x4f1656(0x225)](_0x28766a,{'text':'Reply\x20to\x20an\x20image\x20or\x20video\x20to\x20upload\x20it.'},{'quoted':_0x41c1a4});try{const _0x784a98=_0x218272?.[_0x4f1656(0x1df)]?'image':_0x4f1656(0x1de),_0x2c6183=await downloadContentFromMessage(_0x36f69a,_0x784a98),_0x190205=[];for await(const _0x4a7959 of _0x2c6183){_0x190205[_0x4f1656(0x21d)](_0x4a7959);}const _0x515ada=Buffer['concat'](_0x190205),_0x1209b1=_0x784a98===_0x4f1656(0x1fc)?_0x4f1656(0x210):'mp4',_0x3b9d58=_0x4f1656(0x1e2)+Date[_0x4f1656(0x215)]()+'.'+_0x1209b1;await _0x3b8dc5['writeFile'](_0x3b9d58,_0x515ada);const _0x446766=await uploadToCatbox(_0x3b9d58);await _0x3f3bb3[_0x4f1656(0x225)](_0x28766a,{'text':'Below\x20is\x20your\x20Url:\x0a'+_0x446766},{'quoted':_0x41c1a4}),await _0x3b8dc5[_0x4f1656(0x1ff)](_0x3b9d58);}catch(_0x4929d6){await _0x3f3bb3[_0x4f1656(0x225)](_0x28766a,{'text':'Upload\x20failed:\x20'+_0x4929d6[_0x4f1656(0x21c)]},{'quoted':_0x41c1a4});}}};import _0x1a40b6 from'fluent-ffmpeg';export const tomp3Command={'name':_0x51a06e(0x1f6),'aliases':['toaudio',_0x51a06e(0x21f)],'description':'Convert\x20video\x20to\x20MP3\x20format.','category':'Converter','execute':async(_0x38b46d,_0x1bd880,_0x13b784,_0x30b7b4)=>{const _0x38acc7=_0x51a06e,_0x264b9e=Object[_0x38acc7(0x1f0)](_0x1bd880['message']||{})[0x0],_0x9a129e=_0x1bd880[_0x38acc7(0x21c)]?.[_0x38acc7(0x1ee)]?.[_0x38acc7(0x1f5)]?.['quotedMessage'],_0x4ae0a1=_0x9a129e?.[_0x38acc7(0x202)];if(_0x264b9e!==_0x38acc7(0x202)&&!_0x4ae0a1)return await _0x38b46d[_0x38acc7(0x225)](_0x30b7b4,{'text':_0x38acc7(0x204)},{'quoted':_0x1bd880});const _0xd5927=_0x1bd880[_0x38acc7(0x21c)][_0x38acc7(0x202)]||_0x4ae0a1;try{const _0x451669=await getBuffer(_0xd5927,_0x38acc7(0x1de)),_0x2bdb95='audio_'+Date['now']()+_0x38acc7(0x1e3),_0xf70d62=_0x2bdb95+'.mp3';await _0x3b8dc5[_0x38acc7(0x228)](_0x2bdb95,_0x451669);const _0x4829db=()=>{return new Promise((_0x20564d,_0x29c1e9)=>{const _0x247dcb=_0x2e12;_0x1a40b6(_0x2bdb95)[_0x247dcb(0x226)](_0xf70d62)['on'](_0x247dcb(0x229),_0x20564d)['on'](_0x247dcb(0x20e),_0x29c1e9)[_0x247dcb(0x1f7)]();});};await _0x4829db();if(_0x3b8dc5[_0x38acc7(0x203)](_0xf70d62)){const _0x1c8fb7=await _0x3b8dc5[_0x38acc7(0x212)](_0xf70d62);await _0x38b46d['sendMessage'](_0x30b7b4,{'audio':_0x1c8fb7,'mimetype':'audio/mp3','ptt':![]},{'quoted':_0x1bd880}),await _0x3b8dc5[_0x38acc7(0x1ff)](_0x2bdb95),await _0x3b8dc5[_0x38acc7(0x1ff)](_0xf70d62);}else await _0x38b46d[_0x38acc7(0x225)](_0x30b7b4,{'text':_0x38acc7(0x220)},{'quoted':_0x1bd880});}catch(_0x4130df){console[_0x38acc7(0x20e)](_0x38acc7(0x1e4),_0x4130df[_0x38acc7(0x21c)],_0x4130df[_0x38acc7(0x219)]),await _0x38b46d[_0x38acc7(0x225)](_0x30b7b4,{'text':'Error\x20while\x20converting\x20video\x20to\x20MP3:\x20'+_0x4130df[_0x38acc7(0x21c)]},{'quoted':_0x1bd880});if(_0x3b8dc5[_0x38acc7(0x203)](fileName))await _0x3b8dc5[_0x38acc7(0x1ff)](fileName);if(_0x3b8dc5['existsSync'](mp3Path))await _0x3b8dc5[_0x38acc7(0x1ff)](mp3Path);}}};export const cropCommand={'name':_0x51a06e(0x1fb),'description':_0x51a06e(0x22b),'category':_0x51a06e(0x224),'execute':async(_0x2ab457,_0x372a52,_0x351681,_0x4728c1)=>{const _0x3066d1=_0x51a06e,_0x5b96c3=_0x372a52[_0x3066d1(0x21c)]?.[_0x3066d1(0x1ee)]?.[_0x3066d1(0x1f5)]?.['quotedMessage'],_0x18a4fc=_0x5b96c3?.[_0x3066d1(0x1df)]||_0x5b96c3?.['videoMessage']||_0x5b96c3?.[_0x3066d1(0x1ef)];if(!_0x18a4fc)return await _0x2ab457[_0x3066d1(0x225)](_0x4728c1,{'text':_0x3066d1(0x1fd)},{'quoted':_0x372a52});const _0x41340f=await downloadContentFromMessage(_0x18a4fc,_0x18a4fc[_0x3066d1(0x1df)]?_0x3066d1(0x1fc):_0x18a4fc['videoMessage']?_0x3066d1(0x1de):_0x3066d1(0x1e8)),_0x5494ff=[];for await(const _0x249953 of _0x41340f)_0x5494ff[_0x3066d1(0x21d)](_0x249953);const _0x393bb3=Buffer[_0x3066d1(0x1f9)](_0x5494ff),_0x523701=_0x3066d1(0x1f2)+Date[_0x3066d1(0x215)]();await _0x3b8dc5[_0x3066d1(0x228)](_0x523701,_0x393bb3);const _0x2e9f9f=new Sticker(_0x523701,{'pack':'Flash-MD','type':StickerTypes[_0x3066d1(0x1e6)],'categories':['ðŸ¤©','ðŸŽ‰'],'id':'12345','quality':0x46,'background':_0x3066d1(0x205)}),_0x2aea03=await _0x2e9f9f[_0x3066d1(0x208)]();await _0x2ab457['sendMessage'](_0x4728c1,{'sticker':_0x2aea03},{'quoted':_0x372a52}),await _0x3b8dc5[_0x3066d1(0x1ff)](_0x523701);}};export const takeCommand={'name':_0x51a06e(0x1f8),'description':_0x51a06e(0x216),'category':_0x51a06e(0x224),'execute':async(_0x313a37,_0x22f4a8,_0x5c9ff0,_0x509019)=>{const _0x2f9370=_0x51a06e,_0x2c024f=_0x22f4a8['message']?.[_0x2f9370(0x1ee)]?.['contextInfo']?.['quotedMessage'],_0x558a5b=_0x2c024f?.[_0x2f9370(0x1df)]||_0x2c024f?.['videoMessage']||_0x2c024f?.[_0x2f9370(0x1ef)];if(!_0x558a5b)return await _0x313a37['sendMessage'](_0x509019,{'text':_0x2f9370(0x1fd)},{'quoted':_0x22f4a8});const _0x54ac3b=_0x5c9ff0[_0x2f9370(0x1e9)]>0x0?_0x5c9ff0[_0x2f9370(0x21a)]('\x20'):_0x22f4a8['pushName'],_0x2a3db2=await downloadContentFromMessage(_0x558a5b,_0x558a5b[_0x2f9370(0x1df)]?'image':_0x558a5b[_0x2f9370(0x202)]?_0x2f9370(0x1de):'sticker'),_0x4059ab=[];for await(const _0x3f7181 of _0x2a3db2)_0x4059ab[_0x2f9370(0x21d)](_0x3f7181);const _0x3f6ccf=Buffer[_0x2f9370(0x1f9)](_0x4059ab),_0xcaa147='./temp_'+Date[_0x2f9370(0x215)]();await _0x3b8dc5[_0x2f9370(0x228)](_0xcaa147,_0x3f6ccf);const _0xc0c65b=new Sticker(_0xcaa147,{'pack':_0x54ac3b,'type':StickerTypes[_0x2f9370(0x1ea)],'categories':['ðŸ¤©','ðŸŽ‰'],'id':_0x2f9370(0x21b),'quality':0x46,'background':'transparent'}),_0x38fe89=await _0xc0c65b[_0x2f9370(0x208)]();await _0x313a37['sendMessage'](_0x509019,{'sticker':_0x38fe89},{'quoted':_0x22f4a8}),await _0x3b8dc5[_0x2f9370(0x1ff)](_0xcaa147);}};
